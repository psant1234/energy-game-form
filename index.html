<!DOCTYPE html>
<html>
<head>
  <title>Energy Game Submission Form</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f5f5f5;
      padding: 20px;
      color: #333;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    h2 {
      color: #8A1538;
      text-align: center;
    }

    .logo {
      display: block;
      margin: 0 auto 20px auto;
      max-width: 150px;
    }

    label {
      font-weight: bold;
      display: block;
      margin-top: 15px;
      color: #8A1538;
    }

    select, input[type="number"] {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }

    button {
      background-color: #8A1538;
      color: white;
      border: none;
      padding: 10px 20px;
      margin-top: 20px;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }

    button:hover {
      background-color: #6d0f2e;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 20px;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }

    th {
      background-color: #8A1538;
      color: white;
    }

    @media (max-width: 600px) {
      table, thead, tbody, th, td, tr {
        display: block;
        width: 100%;
      }

      th, td {
        text-align: left;
        border: none;
        padding: 8px;
      }

      th {
        background-color: transparent;
        color: #8A1538;
      }
    }
  </style>
  <script>
    const portfolioPlants = {
      'Bay_Views': ['MORRO_BAY_1-2', 'MORRO_BAY_3-4', 'MOSS_LANDING_6', 'MOSS_LANDING_7', 'OAKLAND'],
      'Beachfront': ['COOLWATER', 'ETIWANDA_1-4', 'ETIWANDA_5', 'ELLWOOD', 'MANDALAY_1-2', 'MANDALAY_3', 'ORMOND_BEACH_1', 'ORMOND_BEACH_2'],
      'Big_Coal': ['Four Corners', 'ALAMITOS_7', 'HUNTINGTON_BEACH_1-2', 'HUNTINGTON_BEACH_5', 'REDONDO_5-6', 'REDONDO_7-8'],
      'Big_Gas': ['EL_SEGUNDO_1-2', 'EL_SEGUNDO_3-4', 'LONG_BEACH', 'NORTH_ISLAND', 'ENCINA', 'KEARNY', 'SOUTH_BAY'],
      'East_Bay': ['PITTSBURGH_1-4', 'PITTSBURGH_5-6', 'PITTSBURG_7', 'CONTRA_COSTA_4-5', 'CONTRA_COSTA_6-7', 'POTRERO_HILL'],
      'Low_Fossil': ['HUMBOLDT', 'HELMS', 'HUNTERS_POINT_1-2', 'HUNTERS_POINT_4', 'DIABLO_CANYON_1'],
      'Old_Timers': ['BIG_CREEK', 'MOHAVE_1', 'MOHAVE_2', 'HIGHGROVE', 'SAN_BERNARDINO']
    };

    function showPlantForm() {
      const portfolio = document.getElementById("portfolio").value;
      const plantSection = document.getElementById("plantSection");
      plantSection.innerHTML = '';

      if (portfolio in portfolioPlants) {
        const table = document.createElement("table");
        const header = document.createElement("tr");
        header.innerHTML = '<th>Plant</th><th>Hour 1</th><th>Hour 2</th><th>Hour 3</th><th>Hour 4</th>';
        table.appendChild(header);

        portfolioPlants[portfolio].forEach(plant => {
          const row = document.createElement("tr");
          row.innerHTML = `
            <td>${plant}</td>
            <td><input type="number" name="${plant}_price1" step="0.01" required></td>
            <td><input type="number" name="${plant}_price2" step="0.01" required></td>
            <td><input type="number" name="${plant}_price3" step="0.01" required></td>
            <td><input type="number" name="${plant}_price4" step="0.01" required></td>
          `;
          table.appendChild(row);
        });

        plantSection.appendChild(table);
        document.getElementById("step1").style.display = "none";
        document.getElementById("step2").style.display = "block";
      }
    }

    function submitForm() {
      const scriptURL = 'https://script.google.com/macros/s/AKfycbzKQPRedbiR6jJ4Ked4NIThDYP1rj7fEJ3att1EzMVmC_QzBtbverwqp1d_j7S2q3JGpg/exec';
      const formData = new FormData(document.getElementById("energyForm"));
      fetch(scriptURL, { method: 'POST', body: formData })
        .then(response => alert('Submission successful!'))
        .catch(error => alert('Submission failed: ' + error.message));
    }
  </script>
</head>
<body>
  <div class="container">
    <img src="https://upload.wikimedia.org/wikipedia/commons/0/0c/MIT_logo.svg" alt="MIT Logo" class="logo">
    <h2>Energy Game Submission Form</h2>
    <form id="energyForm" onsubmit="event.preventDefault(); submitForm();">
      <div id="step1">
        <label for="team">Team Name:</label>
        <select name="team" required>
          <option value="">-- Select Team --</option>
          <option>Arrow</option>
          <option>Becker</option>
          <option>Coase</option>
          <option>Debreu</option>
          <option>Friedman</option>
          <option>Heckman</option>
          <option>Krugman</option>
        </select>

        <label for="portfolio">Portfolio:</label>
        <select name="portfolio" id="portfolio" required>
          <option value="">-- Select Portfolio --</option>
          <option>Low_Fossil</option>
          <option>Beachfront</option>
          <option>Old_Timers</option>
          <option>Big_Coal</option>
          <option>Big_Gas</option>
          <option>Bay_Views</option>
          <option>East_Bay</option>
        </select>

        <button type="button" onclick="showPlantForm()">Next</button>
      </div>

      <div id="step2" style="display:none">
        <div id="plantSection"></div>
        <button type="submit">Submit</button>
      </div>
    </form>
  </div>
</body>
</html>
